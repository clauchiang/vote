# 111年度資料庫程式設計作業

## 投票 / 問卷系統
**請建立一個投票或問卷系統可以提供投票或問卷功能，並能查看結果**

## 功能需求
* 註冊/登入系統(暫時不使用md5編碼)
* 前/後台頁面切版
* 前端讀出功能(列表/註冊表單/會員中心)
* 新增投票
* 修改投票
* 刪除投票
* 搜尋投票
* 投票結果的統計

## 畫面呈現
### 主畫面
* 最上方為logo與選單列
* 按logo可回到首頁
* logo的下方是banner
    * 有三張banner，內容為要推播的投票
    * 點擊圖片會員可對該議題進行投票，訪客為查看結果
    * 點擊左右可以回到上一張或下一張
* 中間為主要內容區
* 下方版權區放置聯絡資料與社群軟體icon
* 選單列有下列按鈕
    * 投票列表
        * 全部的投票
        * 進行中的投票
        * 已結束的投票
    * 會員中心(登入之後才會出現)
        * 會員資料
        * 參與過的投票
        * 登出
    * 搜尋
    * 登入
    * 註冊
* 會員註冊時需填入下列資料
    * 帳號(提供登入之使用，不可更改)
        * 帳號不可與其他人重複
    * 密碼
    * 暱稱
    * 電子信箱
    * 密碼提示(在忘記密碼時提供帳號驗證之使用)
* 右下方的上下鍵可以回到頁面的最上方或最下方
#### 使用者端
* 進入首頁時可查看目前所有投票
* 未登入使用者只可以看到投票人數和查看結果
* 點擊投票未登入的使用者會跳出未登入請先登入
* 已登入的使用者會出現投票選項
* 完成投票後，出現投票結果
* 結果頁有返回首頁的按鈕
* 時間已結束的投票點入投票頁面會顯示該投票已結束
* 可以按該頁下方按鈕回到首頁或是查看投票結果
* 投票列表可依據熱門度與結束時間來排序
* 會員可以在會員中心檢視當初設定的會員資料
* 亦可編輯除了帳號之外的資料
* 會員可以查看參與過的投票
* 每個主題每位會員只能投一次票
* 可以用搜尋欄搜尋投票主題
* 會員忘記密碼時提供帳號與密碼提示，驗證正確後即可重置密碼
* 重置完成後會跳至登入頁面，可以使用新密碼完成登入
#### 管理者端
* 使用另外的登入頁面不與使用者共用
* 要登入後才能進入後台
* 登入連結不顯示在任何頁面，要知道網址的才能進入
(admins_login.php)
* 直接輸入後台網址，會跳轉至首頁
* 非管理者帳號也會跳至首頁
* 登入後台後會顯示管理者名稱與歡迎登入
* 點選管理者名稱可連結到該管理者個人資料
* 管理者選單有下列三個按鈕
    * 投票列表
        * 所有投票
        * 進行中的投票
        * 已結束的投票
    * 管理者中心
        * 管理者資料
        * 管理者名冊 (主要管理者)
        * 新增管理者 (主要管理者)
    * 投票管理
        * 新增投票
        * 新增分類
* 設置管理者權限，最高權限(lv =1)的主要管理者可以在管理者中心
    * 查看所有管理者資料
    * 增加、修改刪除管理者帳號
    * 主要管理者無刪除按鈕，避免誤刪
* 一般管理者可以在管理者中心查看個人資料，但是無法修改
* 只有管理者才能在投票管理新增投票與投票分類
* 點選新增投票進入新增投票表單頁面
* 選項可以動態增加
    * 按下+增加選項
    * 按下x刪除選項
* 完成設定，按下完成，即可新增一項投票
* 可以修改投票主題或選項
* 可以刪除投票
* 可以刪除選項
* 可以控制投票主題是否在前台顯示
    * 預設為顯示
    * 按鈕上的文字是目前狀態(顯示或隱藏)
    * 滑鼠移動至上面顯示的文字是欲變更的狀態(ex顯示->隱藏)
    * 點擊後會變更狀態
* 可以在投票分類檢視目前所有分類
* 並可編輯與刪除目前分類
* 在同一頁下方的新增分類輸入分類名稱即可新增分類
* 分類名稱重複會跳出警告
* 點選後台banner會回到後台首頁


## 設計資料表
* vote_users (使用者資料)
    |名稱|類型|預設值|AI|備註|
    |---|---|---|---|---|
    |id|int(11)||true|序號|
    |acc|varchar(12)|||帳號|
    |pw|varchar(16)||||
    |name|varchar(12)|||暱稱|
    |email|varchar(64)||||
    |pw_note|varchar(128)|||密碼提示|

* vote_admins (管理者帳號)
    |名稱|類型|預設值|AI|備註|
    |---|---|---|---|---|
    |id|int(11)||true|序號|
    |acc|varchar(12)|||帳號|
    |pw|varchar(16)||||
    |name|varchar(12)|||名稱|
    |lv|tinyint(1)|||管理者權限(1為主要管理者)|

* vote_subjects (投票主題)
    |名稱|類型|預設值|AI|備註|
    |---|---|---|---|---|
    |id|int(11)||true|序號|
    |subject|varchar(128)||||
    |type_id|int(11)||||
    |multiple|tinyint(1)|0||多選題|
    |start|date||||
    |end|date||||
    |total|int(11)|0|||
    |hidden|tinyint(1)|0||隱藏主題(預設為顯示)|

* vote_options (投票選項)
    |名稱|類型|預設值|AI|備註|
    |---|---|---|---|---|
    |id|int(11)||true|序號|
    |option|varchar(128)||||
    |subject_id|int(11)|||主題id|
    |total|int(11)|||票數計算|

* vote_types (投票主題類型)
    |名稱|類型|預設值|AI|備註|
    |---|---|---|---|---|
    |id|int(11)||true|序號|
    |name|varchar(128)|||類型名稱|

* vote_logs (投票紀錄)
    |名稱|類型|預設值|AI|備註|
    |---|---|---|---|---|
    |id|int(11)||true|序號|
    |user_id|int(11)|||使用者|
    |subject_id|int(11)|||主題|
    |option_id|int(11)|||選項|
    |vote_time|timestamp|current_timestamp()|||
    
### 請充分運用學到的各項網頁知識來美化這個投票系統的畫面
* html標籤的應用(語意標籤、表單、表格、分隔線、標頭..etc)
* css的應用(行內、內嵌、外連、flexbox、偽元素、動畫..etc)
* bootstrap的應用(排版功能、元件、類別..etc)
* javascript or jQuery的應用(DOM的操作、CSS的切換)

### 請上傳至220的伺服器個人空間，並自行建立所需資料表
   
### 請將完成品前後台及功能截圖五張放在ScreenShot資料夾下


### 必備要求
**後台功能**
* 請設計一個頁面可以用來輸入投票的題目
* 可以控制題目的啟用與關閉

**前台功能**
* 請設計一個頁面可以看到目前進行投票的項目
* 可以進行投票
* 請設計一個頁面可以看到投票統計的結果

**進階功能**
* 請整合註冊及登入系統
* 能以長條圖或圖像化的方式來呈現統計的結果
* 能判斷使用者的狀態，避免重覆投票

## 評量時間
2022-07-15(星期五)